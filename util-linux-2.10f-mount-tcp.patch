--- util-linux-2.10f/mount/nfsmount.c.orig	Wed May 10 13:54:58 2000
+++ util-linux-2.10f/mount/nfsmount.c	Wed May 10 13:57:09 2000
@@ -554,6 +554,17 @@
 		server_addr.sin_port = PMAPPORT;
 		port = pmap_getport(&server_addr, nfsprog, nfsvers,
 			tcp ? IPPROTO_TCP : IPPROTO_UDP);
+
+		/* Here we check to see if user is mounting with the tcp
+		** option.  If so, and if the portmap returns a '0' for
+		** port (service unavailable), we then exit out notifying
+		** the user, rather than hanging up mount.
+		*/
+		if (port == 0 && tcp == 1) {
+			perror(_("nfs server reported service unavailable"));
+			goto fail;
+		}
+
 		if (port == 0)
 			port = NFS_PORT;
 #ifdef NFS_MOUNT_DEBUG
